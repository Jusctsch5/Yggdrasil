using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Collections;
using System.ComponentModel;

namespace Yggdrasil.TextHandling
{
	public class EtrianString : INotifyPropertyChanged
	{
		#region European/American character map

		static readonly Dictionary<ushort, char> characterMapEnglish = new Dictionary<ushort, char>()
		{
			{ 0x0001, ' ' },
			{ 0x0002, '!' },
			{ 0x0003, '"' },
			{ 0x0004, '#' },
			{ 0x0005, '$' },
			{ 0x0006, '%' },
			{ 0x0007, '&' },
			{ 0x0008, '\'' },
			{ 0x0009, '(' },
			{ 0x000A, ')' },
			{ 0x000B, '*' },
			{ 0x000C, '+' },
			{ 0x000D, ',' },
			{ 0x000E, '-' },
			{ 0x000F, '.' },
			{ 0x0010, '/' },
			{ 0x0011, '0' },
			{ 0x0012, '1' },
			{ 0x0013, '2' },
			{ 0x0014, '3' },
			{ 0x0015, '4' },
			{ 0x0016, '5' },
			{ 0x0017, '6' },
			{ 0x0018, '7' },
			{ 0x0019, '8' },
			{ 0x001A, '9' },
			{ 0x001B, ':' },
			{ 0x001C, ';' },
			{ 0x001D, '<' },
			{ 0x001E, '=' },
			{ 0x001F, '>' },
			{ 0x0020, '?' },
			{ 0x0021, '@' },
			{ 0x0022, 'A' },
			{ 0x0023, 'B' },
			{ 0x0024, 'C' },
			{ 0x0025, 'D' },
			{ 0x0026, 'E' },
			{ 0x0027, 'F' },
			{ 0x0028, 'G' },
			{ 0x0029, 'H' },
			{ 0x002A, 'I' },
			{ 0x002B, 'J' },
			{ 0x002C, 'K' },
			{ 0x002D, 'L' },
			{ 0x002E, 'M' },
			{ 0x002F, 'N' },
			{ 0x0030, 'O' },
			{ 0x0031, 'P' },
			{ 0x0032, 'Q' },
			{ 0x0033, 'R' },
			{ 0x0034, 'S' },
			{ 0x0035, 'T' },
			{ 0x0036, 'U' },
			{ 0x0037, 'V' },
			{ 0x0038, 'W' },
			{ 0x0039, 'X' },
			{ 0x003A, 'Y' },
			{ 0x003B, 'Z' },
			{ 0x003C, '[' },
			{ 0x003D, '\\' },
			{ 0x003E, ']' },
			{ 0x003F, '^' },
			{ 0x0040, '_' },
			{ 0x0041, '´' },
			{ 0x0042, 'a' },
			{ 0x0043, 'b' },
			{ 0x0044, 'c' },
			{ 0x0045, 'd' },
			{ 0x0046, 'e' },
			{ 0x0047, 'f' },
			{ 0x0048, 'g' },
			{ 0x0049, 'h' },
			{ 0x004A, 'i' },
			{ 0x004B, 'j' },
			{ 0x004C, 'k' },
			{ 0x004D, 'l' },
			{ 0x004E, 'm' },
			{ 0x004F, 'n' },
			{ 0x0050, 'o' },
			{ 0x0051, 'p' },
			{ 0x0052, 'q' },
			{ 0x0053, 'r' },
			{ 0x0054, 's' },
			{ 0x0055, 't' },
			{ 0x0056, 'u' },
			{ 0x0057, 'v' },
			{ 0x0058, 'w' },
			{ 0x0059, 'x' },
			{ 0x005A, 'y' },
			{ 0x005B, 'z' },
			{ 0x005C, '{' },
			{ 0x005D, '|' },
			{ 0x005E, '}' },
			{ 0x005F, '~' },
			{ 0x0060, '€' },
			{ 0x0061, '․' },
			{ 0x0062, '„' },
			{ 0x0063, '…' },
			{ 0x0064, '‸' },
			{ 0x0065, 'Œ' },
			{ 0x0066, '′' },
			{ 0x0067, '‵' },
			{ 0x0068, '″' },
			{ 0x0069, '‶' },
			{ 0x006A, '•' },
			{ 0x006B, '‴' },
			{ 0x006C, '™' },
			{ 0x006D, '›' },
			{ 0x006E, 'œ' },
			{ 0x006F, '¡' },
			{ 0x0070, '¢' },
			{ 0x0071, '£' },
			{ 0x0072, '¨' },
			{ 0x0073, '©' },
			{ 0x0074, '®' },
			{ 0x0075, '°' },
			{ 0x0076, '±' },
			{ 0x0077, '´' },
			{ 0x0078, '·' },
			{ 0x0079, '¿' },
			{ 0x007A, 'À' },
			{ 0x007B, 'Á' },
			{ 0x007C, 'Â' },
			{ 0x007D, 'Ã' },
			{ 0x007E, 'Ä' },
			{ 0x007F, 'Å' },
			{ 0x0080, 'Æ' },
			{ 0x0081, 'Ç' },
			{ 0x0082, 'È' },
			{ 0x0083, 'É' },
			{ 0x0084, 'Ê' },
			{ 0x0085, 'Ë' },
			{ 0x0086, 'Ì' },
			{ 0x0087, 'Í' },
			{ 0x0088, 'Î' },
			{ 0x0089, 'Ï' },
			{ 0x008A, 'Ð' },
			{ 0x008B, 'Ñ' },
			{ 0x008C, 'Ò' },
			{ 0x008D, 'Ó' },
			{ 0x008E, 'Ô' },
			{ 0x008F, 'Õ' },
			{ 0x0090, 'Ö' },
			{ 0x0091, '×' },
			{ 0x0092, 'Ø' },
			{ 0x0093, 'Ù' },
			{ 0x0094, 'Ú' },
			{ 0x0095, 'Û' },
			{ 0x0096, 'Ü' },
			{ 0x0097, 'Ý' },
			{ 0x0098, 'ß' },
			{ 0x0099, 'à' },
			{ 0x009A, 'á' },
			{ 0x009B, 'â' },
			{ 0x009C, 'ã' },
			{ 0x009D, 'ä' },
			{ 0x009E, 'å' },
			{ 0x009F, 'æ' },
			{ 0x00A0, 'ç' },
			{ 0x00A1, 'è' },
			{ 0x00A2, 'é' },
			{ 0x00A3, 'ê' },
			{ 0x00A4, 'ë' },
			{ 0x00A5, 'ì' },
			{ 0x00A6, 'í' },
			{ 0x00A7, 'î' },
			{ 0x00A8, 'ï' },
			{ 0x00A9, 'ð' },
			{ 0x00AA, 'ñ' },
			{ 0x00AB, 'ò' },
			{ 0x00AC, 'ó' },
			{ 0x00AD, 'ô' },
			{ 0x00AE, 'õ' },
			{ 0x00AF, 'ö' },
			{ 0x00B0, '÷' },
			{ 0x00B1, 'ø' },
			{ 0x00B2, 'ù' },
			{ 0x00B3, 'ú' },
			{ 0x00B4, 'û' },
			{ 0x00B5, 'ü' },
			{ 0x00B6, 'ý' },
			{ 0x00B7, '→' },
			{ 0x00B8, '←' },
			{ 0x00B9, '↑' },
			{ 0x00BA, '↓' },
			{ 0x00BB, '«' },
			{ 0x00BC, '»' },
			{ 0x00BD, 'ª' },
			{ 0x00BE, 'º' },
			{ 0x00BF, 'ͤ' },
			{ 0x00C0, 'ͬ' },
		};

		#endregion

		#region Japanese character map

		static readonly Dictionary<ushort, char> characterMapJapanese = new Dictionary<ushort, char>()
		{
			{ 0x0001, ' ' },
			{ 0x0002, '、' },
			{ 0x0003, '。' },
			{ 0x0004, '，' },
			{ 0x0005, '．' },
			{ 0x0006, '・' },
			{ 0x0007, '：' },
			{ 0x0008, '；' },
			{ 0x0009, '？' },
			{ 0x000A, '！' },
			{ 0x000B, '゛' },
			{ 0x000C, '゜' },
			{ 0x000D, '´' },
			{ 0x000E, '｀' },
			{ 0x000F, '¨' },
			{ 0x0010, '＾' },
			{ 0x0011, '￣' },
			{ 0x0012, '＿' },
			{ 0x0013, '々' },
			{ 0x0014, 'ー' },
			{ 0x0015, '―' },
			{ 0x0016, '／' },
			{ 0x0017, '\\' },
			{ 0x0018, '～' },
			{ 0x0019, '｜' },
			{ 0x001A, '…' },
			{ 0x001B, '‘' },
			{ 0x001C, '’' },
			{ 0x001D, '“' },
			{ 0x001E, '”' },
			{ 0x001F, '（' },
			{ 0x0020, '）' },
			{ 0x0021, '［' },
			{ 0x0022, '］' },
			{ 0x0023, '「' },
			{ 0x0024, '」' },
			{ 0x0025, '『' },
			{ 0x0026, '』' },
			{ 0x0027, '【' },
			{ 0x0028, '】' },
			{ 0x0029, '＋' },
			{ 0x002A, '−' },
			{ 0x002B, '±' },
			{ 0x002C, '×' },
			{ 0x002D, '÷' },
			{ 0x002E, '＝' },
			{ 0x002F, '＜' },
			{ 0x0030, '＞' },
			{ 0x0031, '≦' },
			{ 0x0032, '≧' },
			{ 0x0033, '￥' },
			{ 0x0034, '＄' },
			{ 0x0035, '％' },
			{ 0x0036, '＃' },
			{ 0x0037, '＆' },
			{ 0x0038, '＊' },
			{ 0x0039, '＠' },
			{ 0x003A, '☆' },
			{ 0x003B, '★' },
			{ 0x003C, '○' },
			{ 0x003D, '●' },
			{ 0x003E, '◎' },
			{ 0x003F, '◇' },
			{ 0x0040, '◆' },
			{ 0x0041, '□' },
			{ 0x0042, '■' },
			{ 0x0043, '△' },
			{ 0x0044, '▲' },
			{ 0x0045, '▽' },
			{ 0x0046, '▼' },
			{ 0x0047, '※' },
			{ 0x0048, '→' },
			{ 0x0049, '←' },
			{ 0x004A, '↑' },
			{ 0x004B, '↓' },
			{ 0x004C, '０' },
			{ 0x004D, '１' },
			{ 0x004E, '２' },
			{ 0x004F, '３' },
			{ 0x0050, '４' },
			{ 0x0051, '５' },
			{ 0x0052, '６' },
			{ 0x0053, '７' },
			{ 0x0054, '８' },
			{ 0x0055, '９' },
			{ 0x0056, 'Ａ' },
			{ 0x0057, 'Ｂ' },
			{ 0x0058, 'Ｃ' },
			{ 0x0059, 'Ｄ' },
			{ 0x005A, 'Ｅ' },
			{ 0x005B, 'Ｆ' },
			{ 0x005C, 'Ｇ' },
			{ 0x005D, 'Ｈ' },
			{ 0x005E, 'Ｉ' },
			{ 0x005F, 'Ｊ' },
			{ 0x0060, 'Ｋ' },
			{ 0x0061, 'Ｌ' },
			{ 0x0062, 'Ｍ' },
			{ 0x0063, 'Ｎ' },
			{ 0x0064, 'Ｏ' },
			{ 0x0065, 'Ｐ' },
			{ 0x0066, 'Ｑ' },
			{ 0x0067, 'Ｒ' },
			{ 0x0068, 'Ｓ' },
			{ 0x0069, 'Ｔ' },
			{ 0x006A, 'Ｕ' },
			{ 0x006B, 'Ｖ' },
			{ 0x006C, 'Ｗ' },
			{ 0x006D, 'Ｘ' },
			{ 0x006E, 'Ｙ' },
			{ 0x006F, 'Ｚ' },
			{ 0x0070, 'ａ' },
			{ 0x0071, 'ｂ' },
			{ 0x0072, 'ｃ' },
			{ 0x0073, 'ｄ' },
			{ 0x0074, 'ｅ' },
			{ 0x0075, 'ｆ' },
			{ 0x0076, 'ｇ' },
			{ 0x0077, 'ｈ' },
			{ 0x0078, 'ｉ' },
			{ 0x0079, 'ｊ' },
			{ 0x007A, 'ｋ' },
			{ 0x007B, 'ｌ' },
			{ 0x007C, 'ｍ' },
			{ 0x007D, 'ｎ' },
			{ 0x007E, 'ｏ' },
			{ 0x007F, 'ｐ' },
			{ 0x0080, 'ｑ' },
			{ 0x0081, 'ｒ' },
			{ 0x0082, 'ｓ' },
			{ 0x0083, 'ｔ' },
			{ 0x0084, 'ｕ' },
			{ 0x0085, 'ｖ' },
			{ 0x0086, 'ｗ' },
			{ 0x0087, 'ｘ' },
			{ 0x0088, 'ｙ' },
			{ 0x0089, 'ｚ' },
			{ 0x008A, 'ぁ' },
			{ 0x008B, 'あ' },
			{ 0x008C, 'ぃ' },
			{ 0x008D, 'い' },
			{ 0x008E, 'ぅ' },
			{ 0x008F, 'う' },
			{ 0x0090, 'ぇ' },
			{ 0x0091, 'え' },
			{ 0x0092, 'ぉ' },
			{ 0x0093, 'お' },
			{ 0x0094, 'か' },
			{ 0x0095, 'が' },
			{ 0x0096, 'き' },
			{ 0x0097, 'ぎ' },
			{ 0x0098, 'く' },
			{ 0x0099, 'ぐ' },
			{ 0x009A, 'け' },
			{ 0x009B, 'げ' },
			{ 0x009C, 'こ' },
			{ 0x009D, 'ご' },
			{ 0x009E, 'さ' },
			{ 0x009F, 'ざ' },
			{ 0x00A0, 'し' },
			{ 0x00A1, 'じ' },
			{ 0x00A2, 'す' },
			{ 0x00A3, 'ず' },
			{ 0x00A4, 'せ' },
			{ 0x00A5, 'ぜ' },
			{ 0x00A6, 'そ' },
			{ 0x00A7, 'ぞ' },
			{ 0x00A8, 'た' },
			{ 0x00A9, 'だ' },
			{ 0x00AA, 'ち' },
			{ 0x00AB, 'ぢ' },
			{ 0x00AC, 'っ' },
			{ 0x00AD, 'つ' },
			{ 0x00AE, 'づ' },
			{ 0x00AF, 'て' },
			{ 0x00B0, 'で' },
			{ 0x00B1, 'と' },
			{ 0x00B2, 'ど' },
			{ 0x00B3, 'な' },
			{ 0x00B4, 'に' },
			{ 0x00B5, 'ぬ' },
			{ 0x00B6, 'ね' },
			{ 0x00B7, 'の' },
			{ 0x00B8, 'は' },
			{ 0x00B9, 'ば' },
			{ 0x00BA, 'ぱ' },
			{ 0x00BB, 'ひ' },
			{ 0x00BC, 'び' },
			{ 0x00BD, 'ぴ' },
			{ 0x00BE, 'ふ' },
			{ 0x00BF, 'ぶ' },
			{ 0x00C0, 'ぷ' },
			{ 0x00C1, 'へ' },
			{ 0x00C2, 'べ' },
			{ 0x00C3, 'ぺ' },
			{ 0x00C4, 'ほ' },
			{ 0x00C5, 'ぼ' },
			{ 0x00C6, 'ぽ' },
			{ 0x00C7, 'ま' },
			{ 0x00C8, 'み' },
			{ 0x00C9, 'む' },
			{ 0x00CA, 'め' },
			{ 0x00CB, 'も' },
			{ 0x00CC, 'ゃ' },
			{ 0x00CD, 'や' },
			{ 0x00CE, 'ゅ' },
			{ 0x00CF, 'ゆ' },
			{ 0x00D0, 'ょ' },
			{ 0x00D1, 'よ' },
			{ 0x00D2, 'ら' },
			{ 0x00D3, 'り' },
			{ 0x00D4, 'る' },
			{ 0x00D5, 'れ' },
			{ 0x00D6, 'ろ' },
			{ 0x00D7, 'わ' },
			{ 0x00D8, 'を' },
			{ 0x00D9, 'ん' },
			{ 0x00DA, 'ァ' },
			{ 0x00DB, 'ア' },
			{ 0x00DC, 'ィ' },
			{ 0x00DD, 'イ' },
			{ 0x00DE, 'ゥ' },
			{ 0x00DF, 'ウ' },
			{ 0x00E0, 'ェ' },
			{ 0x00E1, 'エ' },
			{ 0x00E2, 'ォ' },
			{ 0x00E3, 'オ' },
			{ 0x00E4, 'カ' },
			{ 0x00E5, 'ガ' },
			{ 0x00E6, 'キ' },
			{ 0x00E7, 'ギ' },
			{ 0x00E8, 'ク' },
			{ 0x00E9, 'グ' },
			{ 0x00EA, 'ケ' },
			{ 0x00EB, 'ゲ' },
			{ 0x00EC, 'コ' },
			{ 0x00ED, 'ゴ' },
			{ 0x00EE, 'サ' },
			{ 0x00EF, 'ザ' },
			{ 0x00F0, 'シ' },
			{ 0x00F1, 'ジ' },
			{ 0x00F2, 'ス' },
			{ 0x00F3, 'ズ' },
			{ 0x00F4, 'セ' },
			{ 0x00F5, 'ゼ' },
			{ 0x00F6, 'ソ' },
			{ 0x00F7, 'ゾ' },
			{ 0x00F8, 'タ' },
			{ 0x00F9, 'ダ' },
			{ 0x00FA, 'チ' },
			{ 0x00FB, 'ヂ' },
			{ 0x00FC, 'ッ' },
			{ 0x00FD, 'ツ' },
			{ 0x00FE, 'ヅ' },
			{ 0x00FF, 'テ' },
			{ 0x0100, 'デ' },
			{ 0x0101, 'ト' },
			{ 0x0102, 'ド' },
			{ 0x0103, 'ナ' },
			{ 0x0104, 'ニ' },
			{ 0x0105, 'ヌ' },
			{ 0x0106, 'ネ' },
			{ 0x0107, 'ノ' },
			{ 0x0108, 'ハ' },
			{ 0x0109, 'バ' },
			{ 0x010A, 'パ' },
			{ 0x010B, 'ヒ' },
			{ 0x010C, 'ビ' },
			{ 0x010D, 'ピ' },
			{ 0x010E, 'フ' },
			{ 0x010F, 'ブ' },
			{ 0x0110, 'プ' },
			{ 0x0111, 'ヘ' },
			{ 0x0112, 'ベ' },
			{ 0x0113, 'ペ' },
			{ 0x0114, 'ホ' },
			{ 0x0115, 'ボ' },
			{ 0x0116, 'ポ' },
			{ 0x0117, 'マ' },
			{ 0x0118, 'ミ' },
			{ 0x0119, 'ム' },
			{ 0x011A, 'メ' },
			{ 0x011B, 'モ' },
			{ 0x011C, 'ャ' },
			{ 0x011D, 'ヤ' },
			{ 0x011E, 'ュ' },
			{ 0x011F, 'ユ' },
			{ 0x0120, 'ョ' },
			{ 0x0121, 'ヨ' },
			{ 0x0122, 'ラ' },
			{ 0x0123, 'リ' },
			{ 0x0124, 'ル' },
			{ 0x0125, 'レ' },
			{ 0x0126, 'ロ' },
			{ 0x0127, 'ワ' },
			{ 0x0128, 'ヲ' },
			{ 0x0129, 'ン' },
			{ 0x012A, 'ヴ' },
			{ 0x012B, 'Ⅱ' },
			{ 0x012C, 'Ⅲ' },

			{ 0x012D, '哀' },
			{ 0x012E, '愛' },
			{ 0x012F, '悪' },
			{ 0x0130, '圧' },
			{ 0x0131, '扱' },
			{ 0x0132, '安' },
			{ 0x0133, '暗' },
			{ 0x0134, '闇' },
			{ 0x0135, '以' },
			{ 0x0136, '位' },
			{ 0x0137, '依' },
			{ 0x0138, '偉' },
			{ 0x0139, '囲' },
			{ 0x013A, '威' },
			{ 0x013B, '意' },
			{ 0x013C, '易' },
			{ 0x013D, '為' },
			{ 0x013E, '畏' },
			{ 0x013F, '異' },
			{ 0x0140, '移' },
			{ 0x0141, '維' },
			{ 0x0142, '衣' },
			{ 0x0143, '謂' },
			{ 0x0144, '違' },
			{ 0x0145, '遺' },
			{ 0x0146, '医' },
			{ 0x0147, '井' },
			{ 0x0148, '域' },
			{ 0x0149, '育' },
			{ 0x014A, '一' },
			{ 0x014B, '溢' },
			{ 0x014C, '稲' },
			{ 0x014D, '印' },
			{ 0x014E, '員' },
			{ 0x014F, '因' },
			{ 0x0150, '引' },
			{ 0x0151, '飲' },
			{ 0x0152, '院' },
			{ 0x0153, '陰' },
			{ 0x0154, '隠' },
			{ 0x0155, '右' },
			{ 0x0156, '烏' },
			{ 0x0157, '羽' },
			{ 0x0158, '雨' },
			{ 0x0159, '嘘' },
			{ 0x015A, '唄' },
			{ 0x015B, '噂' },
			{ 0x015C, '運' },
			{ 0x015D, '雲' },
			{ 0x015E, '餌' },
			{ 0x015F, '影' },
			{ 0x0160, '映' },
			{ 0x0161, '栄' },
			{ 0x0162, '泳' },
			{ 0x0163, '英' },
			{ 0x0164, '衛' },
			{ 0x0165, '鋭' },
			{ 0x0166, '液' },
			{ 0x0167, '益' },
			{ 0x0168, '越' },
			{ 0x0169, '円' },
			{ 0x016A, '援' },
			{ 0x016B, '沿' },
			{ 0x016C, '炎' },
			{ 0x016D, '焔' },
			{ 0x016E, '猿' },
			{ 0x016F, '遠' },
			{ 0x0170, '汚' },
			{ 0x0171, '奥' },
			{ 0x0172, '応' },
			{ 0x0173, '横' },
			{ 0x0174, '殴' },
			{ 0x0175, '王' },
			{ 0x0176, '黄' },
			{ 0x0177, '屋' },
			{ 0x0178, '億' },
			{ 0x0179, '乙' },
			{ 0x017A, '俺' },
			{ 0x017B, '卸' },
			{ 0x017C, '音' },
			{ 0x017D, '下' },
			{ 0x017E, '化' },
			{ 0x017F, '何' },
			{ 0x0180, '価' },
			{ 0x0181, '加' },
			{ 0x0182, '可' },
			{ 0x0183, '夏' },
			{ 0x0184, '家' },
			{ 0x0185, '果' },
			{ 0x0186, '歌' },
			{ 0x0187, '河' },
			{ 0x0188, '火' },
			{ 0x0189, '禍' },
			{ 0x018A, '花' },
			{ 0x018B, '華' },
			{ 0x018C, '過' },
			{ 0x018D, '我' },
			{ 0x018E, '牙' },
			{ 0x018F, '画' },
			{ 0x0190, '芽' },
			{ 0x0191, '駕' },
			{ 0x0192, '介' },
			{ 0x0193, '会' },
			{ 0x0194, '解' },
			{ 0x0195, '回' },
			{ 0x0196, '塊' },
			{ 0x0197, '壊' },
			{ 0x0198, '快' },
			{ 0x0199, '怪' },
			{ 0x019A, '悔' },
			{ 0x019B, '戒' },
			{ 0x019C, '改' },
			{ 0x019D, '械' },
			{ 0x019E, '海' },
			{ 0x019F, '界' },
			{ 0x01A0, '皆' },
			{ 0x01A1, '絵' },
			{ 0x01A2, '開' },
			{ 0x01A3, '階' },
			{ 0x01A4, '外' },
			{ 0x01A5, '害' },
			{ 0x01A6, '涯' },
			{ 0x01A7, '蓋' },
			{ 0x01A8, '街' },
			{ 0x01A9, '鎧' },
			{ 0x01AA, '嚇' },
			{ 0x01AB, '各' },
			{ 0x01AC, '格' },
			{ 0x01AD, '核' },
			{ 0x01AE, '殻' },
			{ 0x01AF, '獲' },
			{ 0x01B0, '確' },
			{ 0x01B1, '覚' },
			{ 0x01B2, '角' },
			{ 0x01B3, '較' },
			{ 0x01B4, '隔' },
			{ 0x01B5, '革' },
			{ 0x01B6, '学' },
			{ 0x01B7, '楽' },
			{ 0x01B8, '顎' },
			{ 0x01B9, '掛' },
			{ 0x01BA, '割' },
			{ 0x01BB, '活' },
			{ 0x01BC, '滑' },
			{ 0x01BD, '株' },
			{ 0x01BE, '鎌' },
			{ 0x01BF, '噛' },
			{ 0x01C0, '刈' },
			{ 0x01C1, '乾' },
			{ 0x01C2, '冠' },
			{ 0x01C3, '寒' },
			{ 0x01C4, '動' },
			{ 0x01C5, '巻' },
			{ 0x01C6, '喚' },
			{ 0x01C7, '完' },
			{ 0x01C8, '干' },
			{ 0x01C9, '幹' },
			{ 0x01CA, '感' },
			{ 0x01CB, '慣' },
			{ 0x01CC, '換' },
			{ 0x01CD, '敢' },
			{ 0x01CE, '棺' },
			{ 0x01CF, '歓' },
			{ 0x01D0, '汗' },
			{ 0x01D1, '環' },
			{ 0x01D2, '甘' },
			{ 0x01D3, '監' },
			{ 0x01D4, '竿' },
			{ 0x01D5, '答' },
			{ 0x01D6, '簡' },
			{ 0x01D7, '緩' },
			{ 0x01D8, '観' },
			{ 0x01D9, '貫' },
			{ 0x01DA, '還' },
			{ 0x01DB, '鑑' },
			{ 0x01DC, '間' },
			{ 0x01DD, '関' },
			{ 0x01DE, '丸' },
			{ 0x01DF, '含' },
			{ 0x01E0, '眼' },
			{ 0x01E1, '岩' },
			{ 0x01E2, '頑' },
			{ 0x01E3, '顔' },
			{ 0x01E4, '願' },
			{ 0x01E5, '危' },
			{ 0x01E6, '喜' },
			{ 0x01E7, '器' },
			{ 0x01E8, '基' },
			{ 0x01E9, '奇' },
			{ 0x01EA, '嬉' },
			{ 0x01EB, '寄' },
			{ 0x01EC, '希' },
			{ 0x01ED, '幾' },
			{ 0x01EE, '揮' },
			{ 0x01EF, '期' },
			{ 0x01F0, '棄' },
			{ 0x01F1, '帰' },
			{ 0x01F2, '帰' },
			{ 0x01F3, '気' },
			{ 0x01F4, '祈' },
			{ 0x01F5, '規' },
			{ 0x01F6, '記' },
			{ 0x01F7, '貴' },
			{ 0x01F8, '起' },
			{ 0x01F9, '輝' },
			{ 0x01FA, '騎' },
			{ 0x01FB, '亀' },
			{ 0x01FC, '偽' },
			{ 0x01FD, '儀' },
			{ 0x01FE, '宜' },
			{ 0x01FF, '技' },
			{ 0x0200, '疑' },
			{ 0x0201, '犠' },
			{ 0x0202, '議' },
			{ 0x0203, '吉' },
			{ 0x0204, '詰' },
			{ 0x0205, '却' },
			{ 0x0206, '客' },
			{ 0x0207, '脚' },
			{ 0x0208, '虐' },
			{ 0x0209, '逆' },
			{ 0x020A, '久' },
			{ 0x020B, '仇' },
			{ 0x020C, '休' },
			{ 0x020D, '及' },
			{ 0x020E, '吸' },
			{ 0x020F, '宮' },
			{ 0x0210, '弓' },
			{ 0x0211, '急' },
			{ 0x0212, '救' },
			{ 0x0213, '求' },
			{ 0x0214, '汲' },
			{ 0x0215, '泣' },
			{ 0x0216, '球' },
			{ 0x0217, '究' },
			{ 0x0218, '級' },
			{ 0x0219, '牛' },
			{ 0x021A, '去' },
			{ 0x021B, '居' },
			{ 0x021C, '巨' },
			{ 0x021D, '許' },
			{ 0x021E, '距' },
			{ 0x021F, '魚' },
			{ 0x0220, '供' },
			{ 0x0221, '共' },
			{ 0x0222, '凶' },
			{ 0x0223, '協' },
			{ 0x0224, '叫' },
			{ 0x0225, '境' },
			{ 0x0226, '強' },
			{ 0x0227, '恐' },
			{ 0x0228, '教' },
			{ 0x0229, '況' },
			{ 0x022A, '狂' },
			{ 0x022B, '挟' },
			{ 0x022C, '胸' },
			{ 0x022D, '脅' },
			{ 0x022E, '興' },
			{ 0x022F, '鏡' },
			{ 0x0230, '響' },
			{ 0x0231, '驚' },
			{ 0x0232, '凝' },
			{ 0x0233, '尭' },
			{ 0x0234, '曲' },
			{ 0x0235, '極' },
			{ 0x0236, '玉' },
			{ 0x0237, '巾' },
			{ 0x0238, '禁' },
			{ 0x0239, '筋' },
			{ 0x023A, '緊' },
			{ 0x023B, '近' },
			{ 0x023C, '金' },
			{ 0x023D, '銀' },
			{ 0x023E, '九' },
			{ 0x023F, '区' },
			{ 0x0240, '苦' },
			{ 0x0241, '駆' },
			{ 0x0242, '具' },
			{ 0x0243, '喰' },
			{ 0x0244, '空' },
			{ 0x0245, '偶' },
			{ 0x0246, '遇' },
			{ 0x0247, '屑' },
			{ 0x0248, '掘' },
			{ 0x0249, '窟' },
			{ 0x024A, '熊' },
			{ 0x024B, '繰' },
			{ 0x024C, '勲' },
			{ 0x024D, '君' },
			{ 0x024E, '群' },
			{ 0x024F, '軍' },
			{ 0x0250, '袈' },
			{ 0x0251, '傾' },
			{ 0x0252, '刑' },
			{ 0x0253, '兄' },
			{ 0x0254, '型' },
			{ 0x0255, '形' },
			{ 0x0256, '恵' },
			{ 0x0257, '憩' },
			{ 0x0258, '敬' },
			{ 0x0259, '景' },
			{ 0x025A, '系' },
			{ 0x025B, '経' },
			{ 0x025C, '継' },
			{ 0x025D, '繋' },
			{ 0x025E, '茎' },
			{ 0x025F, '蛍' },
			{ 0x0260, '計' },
			{ 0x0261, '警' },
			{ 0x0262, '軽' },
			{ 0x0263, '鶏' },
			{ 0x0264, '迎' },
			{ 0x0265, '劇' },
			{ 0x0266, '撃' },
			{ 0x0267, '激' },
			{ 0x0268, '隙' },
			{ 0x0269, '欠' },
			{ 0x026A, '決' },
			{ 0x026B, '潔' },
			{ 0x026C, '穴' },
			{ 0x026D, '結' },
			{ 0x026E, '血' },
			{ 0x026F, '月' },
			{ 0x0270, '件' },
			{ 0x0271, '健' },
			{ 0x0272, '兼' },
			{ 0x0273, '剣' },
			{ 0x0274, '堅' },
			{ 0x0275, '嫌' },
			{ 0x0276, '建' },
			{ 0x0277, '拳' },
			{ 0x0278, '犬' },
			{ 0x0279, '研' },
			{ 0x027A, '肩' },
			{ 0x027B, '見' },
			{ 0x027C, '賢' },
			{ 0x027D, '遣' },
			{ 0x027E, '鍵' },
			{ 0x027F, '険' },
			{ 0x0280, '験' },
			{ 0x0281, '元' },
			{ 0x0282, '原' },
			{ 0x0283, '厳' },
			{ 0x0284, '幻' },
			{ 0x0285, '弦' },
			{ 0x0286, '減' },
			{ 0x0287, '源' },
			{ 0x0288, '玄' },
			{ 0x0289, '現' },
			{ 0x028A, '言' },
			{ 0x028B, '限' },
			{ 0x028C, '個' },
			{ 0x028D, '古' },
			{ 0x028E, '呼' },
			{ 0x028F, '固' },
			{ 0x0290, '己' },
			{ 0x0291, '故' },
			{ 0x0292, '枯' },
			{ 0x0293, '湖' },
			{ 0x0294, '誇' },
			{ 0x0295, '雇' },
			{ 0x0296, '鼓' },
			{ 0x0297, '五' },
			{ 0x0298, '互' },
			{ 0x0299, '後' },
			{ 0x029A, '御' },
			{ 0x029B, '梧' },
			{ 0x029C, '語' },
			{ 0x029D, '護' },
			{ 0x029E, '交' },
			{ 0x029F, '光' },
			{ 0x02A0, '公' },
			{ 0x02A1, '功' },
			{ 0x02A2, '効' },
			{ 0x02A3, '厚' },
			{ 0x02A4, '口' },
			{ 0x02A5, '向' },
			{ 0x02A6, '喉' },
			{ 0x02A7, '好' },
			{ 0x02A8, '孔' },
			{ 0x02A9, '工' },
			{ 0x02AA, '幸' },
			{ 0x02AB, '広' },
			{ 0x02AC, '庚' },
			{ 0x02AD, '抗' },
			{ 0x02AE, '拘' },
			{ 0x02AF, '攻' },
			{ 0x02B0, '更' },
			{ 0x02B1, '構' },
			{ 0x02B2, '溝' },
			{ 0x02B3, '甲' },
			{ 0x02B4, '皇' },
			{ 0x02B5, '硬' },
			{ 0x02B6, '紅' },
			{ 0x02B7, '考' },
			{ 0x02B8, '膏' },
			{ 0x02B9, '荒' },
			{ 0x02BA, '行' },
			{ 0x02BB, '購' },
			{ 0x02BC, '酵' },
			{ 0x02BD, '鉱' },
			{ 0x02BE, '鋼' },
			{ 0x02BF, '降' },
			{ 0x02C0, '香' },
			{ 0x02C1, '高' },
			{ 0x02C2, '剛' },
			{ 0x02C3, '号' },
			{ 0x02C4, '合' },
			{ 0x02C5, '豪' },
			{ 0x02C6, '刻' },
			{ 0x02C7, '告' },
			{ 0x02C8, '国' },
			{ 0x02C9, '酷' },
			{ 0x02CA, '黒' },
			{ 0x02CB, '獄' },
			{ 0x02CC, '骨' },
			{ 0x02CD, '込' },
			{ 0x02CE, '頃' },
			{ 0x02CF, '今' },
			{ 0x02D0, '困' },
			{ 0x02D1, '昏' },
			{ 0x02D2, '昆' },
			{ 0x02D3, '恨' },
			{ 0x02D4, '混' },
			{ 0x02D5, '魂' },
			{ 0x02D6, '些' },
			{ 0x02D7, '左' },
			{ 0x02D8, '差' },
			{ 0x02D9, '査' },
			{ 0x02DA, '砂' },
			{ 0x02DB, '鎖' },
			{ 0x02DC, '裟' },
			{ 0x02DD, '座' },
			{ 0x02DE, '催' },
			{ 0x02DF, '再' },
			{ 0x02E0, '最' },
			{ 0x02E1, '塞' },
			{ 0x02E2, '妻' },
			{ 0x02E3, '採' },
			{ 0x02E4, '済' },
			{ 0x02E5, '災' },
			{ 0x02E6, '砕' },
			{ 0x02E7, '細' },
			{ 0x02E8, '裁' },
			{ 0x02E9, '載' },
			{ 0x02EA, '際' },
			{ 0x02EB, '剤' },
			{ 0x02EC, '在' },
			{ 0x02ED, '材' },
			{ 0x02EE, '罪' },
			{ 0x02EF, '坂' },
			{ 0x02F0, '咲' },
			{ 0x02F1, '作' },
			{ 0x02F2, '削' },
			{ 0x02F3, '索' },
			{ 0x02F4, '察' },
			{ 0x02F5, '殺' },
			{ 0x02F6, '雑' },
			{ 0x02F7, '捌' },
			{ 0x02F8, '三' },
			{ 0x02F9, '参' },
			{ 0x02FA, '山' },
			{ 0x02FB, '散' },
			{ 0x02FC, '産' },
			{ 0x02FD, '算' },
			{ 0x02FE, '酸' },
			{ 0x02FF, '斬' },
			{ 0x0300, '残' },
			{ 0x0301, '仕' },
			{ 0x0302, '伺' },
			{ 0x0303, '使' },
			{ 0x0304, '刺' },
			{ 0x0305, '司' },
			{ 0x0306, '四' },
			{ 0x0307, '士' },
			{ 0x0308, '始' },
			{ 0x0309, '姿' },
			{ 0x030A, '子' },
			{ 0x030B, '師' },
			{ 0x030C, '思' },
			{ 0x030D, '指' },
			{ 0x030E, '支' },
			{ 0x030F, '施' },
			{ 0x0310, '枝' },
			{ 0x0311, '止' },
			{ 0x0312, '死' },
			{ 0x0313, '私' },
			{ 0x0314, '糸' },
			{ 0x0315, '紙' },
			{ 0x0316, '肢' },
			{ 0x0317, '脂' },
			{ 0x0318, '視' },
			{ 0x0319, '詩' },
			{ 0x031A, '試' },
			{ 0x031B, '資' },
			{ 0x031C, '歯' },
			{ 0x031D, '事' },
			{ 0x031E, '似' },
			{ 0x031F, '字' },
			{ 0x0320, '慈' },
			{ 0x0321, '持' },
			{ 0x0322, '時' },
			{ 0x0323, '次' },
			{ 0x0324, '滋' },
			{ 0x0325, '治' },
			{ 0x0326, '磁' },
			{ 0x0327, '示' },
			{ 0x0328, '耳' },
			{ 0x0329, '自' },
			{ 0x032A, '鹿' },
			{ 0x032B, '式' },
			{ 0x032C, '識' },
			{ 0x032D, '軸' },
			{ 0x032E, '七' },
			{ 0x032F, '叱' },
			{ 0x0330, '執' },
			{ 0x0331, '失' },
			{ 0x0332, '湿' },
			{ 0x0333, '漆' },
			{ 0x0334, '疾' },
			{ 0x0335, '質' },
			{ 0x0336, '実' },
			{ 0x0337, '射' },
			{ 0x0338, '捨' },
			{ 0x0339, '斜' },
			{ 0x033A, '者' },
			{ 0x033B, '謝' },
			{ 0x033C, '遮' },
			{ 0x033D, '邪' },
			{ 0x033E, '借' },
			{ 0x033F, '爵' },
			{ 0x0340, '若' },
			{ 0x0341, '弱' },
			{ 0x0342, '主' },
			{ 0x0343, '取' },
			{ 0x0344, '守' },
			{ 0x0345, '手' },
			{ 0x0346, '朱' },
			{ 0x0347, '殊' },
			{ 0x0348, '狩' },
			{ 0x0349, '珠' },
			{ 0x034A, '種' },
			{ 0x034B, '酒' },
			{ 0x034C, '首' },
			{ 0x034D, '受' },
			{ 0x034E, '呪' },
			{ 0x034F, '授' },
			{ 0x0350, '樹' },
			{ 0x0351, '需' },
			{ 0x0352, '収' },
			{ 0x0353, '周' },
			{ 0x0354, '修' },
			{ 0x0355, '拾' },
			{ 0x0356, '秀' },
			{ 0x0357, '終' },
			{ 0x0358, '習' },
			{ 0x0359, '臭' },
			{ 0x035A, '襲' },
			{ 0x035B, '蹴' },
			{ 0x035C, '酬' },
			{ 0x035D, '集' },
			{ 0x035E, '住' },
			{ 0x035F, '十' },
			{ 0x0360, '従' },
			{ 0x0361, '柔' },
			{ 0x0362, '汁' },
			{ 0x0363, '獣' },
			{ 0x0364, '重' },
			{ 0x0365, '宿' },
			{ 0x0366, '祝' },
			{ 0x0367, '縮' },
			{ 0x0368, '熟' },
			{ 0x0369, '出' },
			{ 0x036A, '術' },
			{ 0x036B, '春' },
			{ 0x036C, '瞬' },
			{ 0x036D, '準' },
			{ 0x036E, '盾' },
			{ 0x036F, '純' },
			{ 0x0370, '順' },
			{ 0x0371, '処' },
			{ 0x0372, '初' },
			{ 0x0373, '所' },
			{ 0x0374, '緒' },
			{ 0x0375, '書' },
			{ 0x0376, '諸' },
			{ 0x0377, '助' },
			{ 0x0378, '女' },
			{ 0x0379, '序' },
			{ 0x037A, '除' },
			{ 0x037B, '傷' },
			{ 0x037C, '償' },
			{ 0x037D, '勝' },
			{ 0x037E, '召' },
			{ 0x037F, '商' },
			{ 0x0380, '唱' },
			{ 0x0381, '小' },
			{ 0x0382, '少' },
			{ 0x0383, '床' },
			{ 0x0384, '承' },
			{ 0x0385, '昇' },
			{ 0x0386, '晶' },
			{ 0x0387, '沼' },
			{ 0x0388, '消' },
			{ 0x0389, '渉' },
			{ 0x038A, '焼' },
			{ 0x038B, '省' },
			{ 0x038C, '称' },
			{ 0x038D, '章' },
			{ 0x038E, '笑' },
			{ 0x038F, '肖' },
			{ 0x0390, '衝' },
			{ 0x0391, '証' },
			{ 0x0392, '詳' },
			{ 0x0393, '象' },
			{ 0x0394, '上' },
			{ 0x0395, '丈' },
			{ 0x0396, '乗' },
			{ 0x0397, '冗' },
			{ 0x0398, '場' },
			{ 0x0399, '常' },
			{ 0x039A, '情' },
			{ 0x039B, '条' },
			{ 0x039C, '杖' },
			{ 0x039D, '状' },
			{ 0x039E, '譲' },
			{ 0x039F, '飾' },
			{ 0x03A0, '植' },
			{ 0x03A1, '織' },
			{ 0x03A2, '職' },
			{ 0x03A3, '色' },
			{ 0x03A4, '触' },
			{ 0x03A5, '食' },
			{ 0x03A6, '尻' },
			{ 0x03A7, '伸' },
			{ 0x03A8, '信' },
			{ 0x03A9, '侵' },
			{ 0x03AA, '心' },
			{ 0x03AB, '慎' },
			{ 0x03AC, '振' },
			{ 0x03AD, '新' },
			{ 0x03AE, '森' },
			{ 0x03AF, '浸' },
			{ 0x03B0, '深' },
			{ 0x03B1, '申' },
			{ 0x03B2, '真' },
			{ 0x03B3, '神' },
			{ 0x03B4, '芯' },
			{ 0x03B5, '親' },
			{ 0x03B6, '身' },
			{ 0x03B7, '辛' },
			{ 0x03B8, '進' },
			{ 0x03B9, '針' },
			{ 0x03BA, '震' },
			{ 0x03BB, '人' },
			{ 0x03BC, '刃' },
			{ 0x03BD, '尋' },
			{ 0x03BE, '尽' },
			{ 0x03BF, '陣' },
			{ 0x03C0, '靭' },
			{ 0x03C1, '図' },
			{ 0x03C2, '吹' },
			{ 0x03C3, '水' },
			{ 0x03C4, '睡' },
			{ 0x03C5, '翠' },
			{ 0x03C6, '遂' },
			{ 0x03C7, '錐' },
			{ 0x03C8, '随' },
			{ 0x03C9, '数' },
			{ 0x03CA, '雀' },
			{ 0x03CB, '裾' },
			{ 0x03CC, '澄' },
			{ 0x03CD, '寸' },
			{ 0x03CE, '世' },
			{ 0x03CF, '凄' },
			{ 0x03D0, '制' },
			{ 0x03D1, '勢' },
			{ 0x03D2, '性' },
			{ 0x03D3, '成' },
			{ 0x03D4, '政' },
			{ 0x03D5, '整' },
			{ 0x03D6, '星' },
			{ 0x03D7, '晴' },
			{ 0x03D8, '正' },
			{ 0x03D9, '清' },
			{ 0x03DA, '生' },
			{ 0x03DB, '精' },
			{ 0x03DC, '聖' },
			{ 0x03DD, '声' },
			{ 0x03DE, '製' },
			{ 0x03DF, '西' },
			{ 0x03E0, '青' },
			{ 0x03E1, '静' },
			{ 0x03E2, '昔' },
			{ 0x03E3, '石' },
			{ 0x03E4, '積' },
			{ 0x03E5, '績' },
			{ 0x03E6, '責' },
			{ 0x03E7, '赤' },
			{ 0x03E8, '跡' },
			{ 0x03E9, '切' },
			{ 0x03EA, '接' },
			{ 0x03EB, '折' },
			{ 0x03EC, '設' },
			{ 0x03ED, '節' },
			{ 0x03EE, '説' },
			{ 0x03EF, '雪' },
			{ 0x03F0, '絶' },
			{ 0x03F1, '舌' },
			{ 0x03F2, '仙' },
			{ 0x03F3, '先' },
			{ 0x03F4, '千' },
			{ 0x03F5, '占' },
			{ 0x03F6, '専' },
			{ 0x03F7, '尖' },
			{ 0x03F8, '戦' },
			{ 0x03F9, '扇' },
			{ 0x03FA, '泉' },
			{ 0x03FB, '浅' },
			{ 0x03FC, '洗' },
			{ 0x03FD, '染' },
			{ 0x03FE, '潜' },
			{ 0x03FF, '煎' },
			{ 0x0400, '旋' },
			{ 0x0401, '穿' },
			{ 0x0402, '線' },
			{ 0x0403, '繊' },
			{ 0x0404, '詮' },
			{ 0x0405, '選' },
			{ 0x0406, '閃' },
			{ 0x0407, '鮮' },
			{ 0x0408, '前' },
			{ 0x0409, '然' },
			{ 0x040A, '全' },
			{ 0x040B, '粗' },
			{ 0x040C, '素' },
			{ 0x040D, '組' },
			{ 0x040E, '蘇' },
			{ 0x040F, '阻' },
			{ 0x0410, '双' },
			{ 0x0411, '壮' },
			{ 0x0412, '層' },
			{ 0x0413, '想' },
			{ 0x0414, '捜' },
			{ 0x0415, '操' },
			{ 0x0416, '早' },
			{ 0x0417, '巣' },
			{ 0x0418, '槍' },
			{ 0x0419, '燥' },
			{ 0x041A, '争' },
			{ 0x041B, '相' },
			{ 0x041C, '総' },
			{ 0x041D, '草' },
			{ 0x041E, '葬' },
			{ 0x041F, '蒼' },
			{ 0x0420, '装' },
			{ 0x0421, '走' },
			{ 0x0422, '送' },
			{ 0x0423, '遭' },
			{ 0x0424, '像' },
			{ 0x0425, '増' },
			{ 0x0426, '臓' },
			{ 0x0427, '造' },
			{ 0x0428, '側' },
			{ 0x0429, '則' },
			{ 0x042A, '即' },
			{ 0x042B, '息' },
			{ 0x042C, '束' },
			{ 0x042D, '測' },
			{ 0x042E, '足' },
			{ 0x042F, '速' },
			{ 0x0430, '属' },
			{ 0x0431, '族' },
			{ 0x0432, '続' },
			{ 0x0433, '袖' },
			{ 0x0434, '揃' },
			{ 0x0435, '存' },
			{ 0x0436, '損' },
			{ 0x0437, '他' },
			{ 0x0438, '多' },
			{ 0x0439, '太' },
			{ 0x043A, '唾' },
			{ 0x043B, '打' },
			{ 0x043C, '楕' },
			{ 0x043D, '駄' },
			{ 0x043E, '体' },
			{ 0x043F, '対' },
			{ 0x0440, '耐' },
			{ 0x0441, '帯' },
			{ 0x0442, '待' },
			{ 0x0443, '態' },
			{ 0x0444, '替' },
			{ 0x0445, '苔' },
			{ 0x0446, '袋' },
			{ 0x0447, '貸' },
			{ 0x0448, '退' },
			{ 0x0449, '隊' },
			{ 0x044A, '代' },
			{ 0x044B, '大' },
			{ 0x044C, '第' },
			{ 0x044D, '題' },
			{ 0x044E, '鷹' },
			{ 0x044F, '滝' },
			{ 0x0450, '択' },
			{ 0x0451, '沢' },
			{ 0x0452, '茸' },
			{ 0x0453, '凧' },
			{ 0x0454, '叩' },
			{ 0x0455, '達' },
			{ 0x0456, '奪' },
			{ 0x0457, '脱' },
			{ 0x0458, '辿' },
			{ 0x0459, '誰' },
			{ 0x045A, '丹' },
			{ 0x045B, '単' },
			{ 0x045C, '嘆' },
			{ 0x045D, '担' },
			{ 0x045E, '探' },
			{ 0x045F, '短' },
			{ 0x0460, '端' },
			{ 0x0461, '鍛' },
			{ 0x0462, '団' },
			{ 0x0463, '弾' },
			{ 0x0464, '断' },
			{ 0x0465, '段' },
			{ 0x0466, '男' },
			{ 0x0467, '談' },
			{ 0x0468, '値' },
			{ 0x0469, '知' },
			{ 0x046A, '地' },
			{ 0x046B, '恥' },
			{ 0x046C, '置' },
			{ 0x046D, '致' },
			{ 0x046E, '蜘' },
			{ 0x046F, '着' },
			{ 0x0470, '中' },
			{ 0x0471, '仲' },
			{ 0x0472, '忠' },
			{ 0x0473, '柱' },
			{ 0x0474, '注' },
			{ 0x0475, '虫' },
			{ 0x0476, '貯' },
			{ 0x0477, '丁' },
			{ 0x0478, '庁' },
			{ 0x0479, '張' },
			{ 0x047A, '彫' },
			{ 0x047B, '徴' },
			{ 0x047C, '挑' },
			{ 0x047D, '朝' },
			{ 0x047E, '町' },
			{ 0x047F, '眺' },
			{ 0x0480, '聴' },
			{ 0x0481, '蝶' },
			{ 0x0482, '調' },
			{ 0x0483, '超' },
			{ 0x0484, '跳' },
			{ 0x0485, '長' },
			{ 0x0486, '頂' },
			{ 0x0487, '鳥' },
			{ 0x0488, '直' },
			{ 0x0489, '沈' },
			{ 0x048A, '珍' },
			{ 0x048B, '鎮' },
			{ 0x048C, '槌' },
			{ 0x048D, '追' },
			{ 0x048E, '痛' },
			{ 0x048F, '通' },
			{ 0x0490, '鍔' },
			{ 0x0491, '爪' },
			{ 0x0492, '吊' },
			{ 0x0493, '釣' },
			{ 0x0494, '低' },
			{ 0x0495, '定' },
			{ 0x0496, '帝' },
			{ 0x0497, '底' },
			{ 0x0498, '弟' },
			{ 0x0499, '抵' },
			{ 0x049A, '程' },
			{ 0x049B, '締' },
			{ 0x049C, '諦' },
			{ 0x049D, '蹄' },
			{ 0x049E, '泥' },
			{ 0x049F, '敵' },
			{ 0x04A0, '滴' },
			{ 0x04A1, '的' },
			{ 0x04A2, '笛' },
			{ 0x04A3, '適' },
			{ 0x04A4, '溺' },
			{ 0x04A5, '哲' },
			{ 0x04A6, '鉄' },
			{ 0x04A7, '天' },
			{ 0x04A8, '展' },
			{ 0x04A9, '店' },
			{ 0x04AA, '添' },
			{ 0x04AB, '転' },
			{ 0x04AC, '点' },
			{ 0x04AD, '伝' },
			{ 0x04AE, '電' },
			{ 0x04AF, '塗' },
			{ 0x04B0, '屠' },
			{ 0x04B1, '徒' },
			{ 0x04B2, '渡' },
			{ 0x04B3, '登' },
			{ 0x04B4, '途' },
			{ 0x04B5, '都' },
			{ 0x04B6, '努' },
			{ 0x04B7, '度' },
			{ 0x04B8, '土' },
			{ 0x04B9, '怒' },
			{ 0x04BA, '倒' },
			{ 0x04BB, '冬' },
			{ 0x04BC, '凍' },
			{ 0x04BD, '刀' },
			{ 0x04BE, '套' },
			{ 0x04BF, '投' },
			{ 0x04C0, '東' },
			{ 0x04C1, '盗' },
			{ 0x04C2, '当' },
			{ 0x04C3, '等' },
			{ 0x04C4, '答' },
			{ 0x04C5, '筒' },
			{ 0x04C6, '統' },
			{ 0x04C7, '到' },
			{ 0x04C8, '藤' },
			{ 0x04C9, '討' },
			{ 0x04CA, '踏' },
			{ 0x04CB, '逃' },
			{ 0x04CC, '透' },
			{ 0x04CD, '頭' },
			{ 0x04CE, '闘' },
			{ 0x04CF, '働' },
			{ 0x04D0, '動' },
			{ 0x04D1, '同' },
			{ 0x04D2, '導' },
			{ 0x04D3, '胴' },
			{ 0x04D4, '道' },
			{ 0x04D5, '得' },
			{ 0x04D6, '特' },
			{ 0x04D7, '毒' },
			{ 0x04D8, '読' },
			{ 0x04D9, '突' },
			{ 0x04DA, '届' },
			{ 0x04DB, '鈍' },
			{ 0x04DC, '内' },
			{ 0x04DD, '謎' },
			{ 0x04DE, '南' },
			{ 0x04DF, '軟' },
			{ 0x04E0, '難' },
			{ 0x04E1, '二' },
			{ 0x04E2, '匂' },
			{ 0x04E3, '肉' },
			{ 0x04E4, '虹' },
			{ 0x04E5, '日' },
			{ 0x04E6, '入' },
			{ 0x04E7, '如' },
			{ 0x04E8, '任' },
			{ 0x04E9, '忍' },
			{ 0x04EA, '認' },
			{ 0x04EB, '寧' },
			{ 0x04EC, '猫' },
			{ 0x04ED, '熱' },
			{ 0x04EE, '年' },
			{ 0x04EF, '念' },
			{ 0x04F0, '捻' },
			{ 0x04F1, '燃' },
			{ 0x04F2, '粘' },
			{ 0x04F3, '之' },
			{ 0x04F4, '能' },
			{ 0x04F5, '覗' },
			{ 0x04F6, '波' },
			{ 0x04F7, '派' },
			{ 0x04F8, '破' },
			{ 0x04F9, '馬' },
			{ 0x04FA, '排' },
			{ 0x04FB, '敗' },
			{ 0x04FC, '杯' },
			{ 0x04FD, '背' },
			{ 0x04FE, '輩' },
			{ 0x04FF, '配' },
			{ 0x0500, '倍' },
			{ 0x0501, '買' },
			{ 0x0502, '売' },
			{ 0x0503, '剥' },
			{ 0x0504, '博' },
			{ 0x0505, '泊' },
			{ 0x0506, '白' },
			{ 0x0507, '薄' },
			{ 0x0508, '爆' },
			{ 0x0509, '縛' },
			{ 0x050A, '箱' },
			{ 0x050B, '肌' },
			{ 0x050C, '畑' },
			{ 0x050D, '八' },
			{ 0x050E, '発' },
			{ 0x050F, '髪' },
			{ 0x0510, '伐' },
			{ 0x0511, '抜' },
			{ 0x0512, '判' },
			{ 0x0513, '半' },
			{ 0x0514, '反' },
			{ 0x0515, '板' },
			{ 0x0516, '犯' },
			{ 0x0517, '般' },
			{ 0x0518, '販' },
			{ 0x0519, '晩' },
			{ 0x051A, '番' },
			{ 0x051B, '盤' },
			{ 0x051C, '蛮' },
			{ 0x051D, '否' },
			{ 0x051E, '彼' },
			{ 0x051F, '悲' },
			{ 0x0520, '扉' },
			{ 0x0521, '比' },
			{ 0x0522, '疲' },
			{ 0x0523, '皮' },
			{ 0x0524, '秘' },
			{ 0x0525, '緋' },
			{ 0x0526, '被' },
			{ 0x0527, '費' },
			{ 0x0528, '避' },
			{ 0x0529, '非' },
			{ 0x052A, '飛' },
			{ 0x052B, '備' },
			{ 0x052C, '尾' },
			{ 0x052D, '微' },
			{ 0x052E, '美' },
			{ 0x052F, '鼻' },
			{ 0x0530, '匹' },
			{ 0x0531, '膝' },
			{ 0x0532, '必' },
			{ 0x0533, '姫' },
			{ 0x0534, '紐' },
			{ 0x0535, '百' },
			{ 0x0536, '標' },
			{ 0x0537, '氷' },
			{ 0x0538, '漂' },
			{ 0x0539, '表' },
			{ 0x053A, '評' },
			{ 0x053B, '描' },
			{ 0x053C, '病' },
			{ 0x053D, '鋲' },
			{ 0x053E, '品' },
			{ 0x053F, '不' },
			{ 0x0540, '付' },
			{ 0x0541, '夫' },
			{ 0x0542, '婦' },
			{ 0x0543, '富' },
			{ 0x0544, '布' },
			{ 0x0545, '怖' },
			{ 0x0546, '斧' },
			{ 0x0547, '普' },
			{ 0x0548, '浮' },
			{ 0x0549, '符' },
			{ 0x054A, '膚' },
			{ 0x054B, '負' },
			{ 0x054C, '赴' },
			{ 0x054D, '侮' },
			{ 0x054E, '武' },
			{ 0x054F, '舞' },
			{ 0x0550, '部' },
			{ 0x0551, '封' },
			{ 0x0552, '風' },
			{ 0x0553, '伏' },
			{ 0x0554, '復' },
			{ 0x0555, '幅' },
			{ 0x0556, '服' },
			{ 0x0557, '福' },
			{ 0x0558, '腹' },
			{ 0x0559, '複' },
			{ 0x055A, '覆' },
			{ 0x055B, '淵' },
			{ 0x055C, '払' },
			{ 0x055D, '物' },
			{ 0x055E, '分' },
			{ 0x055F, '憤' },
			{ 0x0560, '焚' },
			{ 0x0561, '奮' },
			{ 0x0562, '粉' },
			{ 0x0563, '雰' },
			{ 0x0564, '文' },
			{ 0x0565, '聞' },
			{ 0x0566, '併' },
			{ 0x0567, '兵' },
			{ 0x0568, '平' },
			{ 0x0569, '柄' },
			{ 0x056A, '並' },
			{ 0x056B, '閉' },
			{ 0x056C, '米' },
			{ 0x056D, '壁' },
			{ 0x056E, '別' },
			{ 0x056F, '蔑' },
			{ 0x0570, '変' },
			{ 0x0571, '片' },
			{ 0x0572, '編' },
			{ 0x0573, '辺' },
			{ 0x0574, '返' },
			{ 0x0575, '勉' },
			{ 0x0576, '鞭' },
			{ 0x0577, '保' },
			{ 0x0578, '捕' },
			{ 0x0579, '歩' },
			{ 0x057A, '墓' },
			{ 0x057B, '暮' },
			{ 0x057C, '母' },
			{ 0x057D, '包' },
			{ 0x057E, '呆' },
			{ 0x057F, '報' },
			{ 0x0580, '宝' },
			{ 0x0581, '崩' },
			{ 0x0582, '抱' },
			{ 0x0583, '放' },
			{ 0x0584, '方' },
			{ 0x0585, '法' },
			{ 0x0586, '縫' },
			{ 0x0587, '胞' },
			{ 0x0588, '蜂' },
			{ 0x0589, '褒' },
			{ 0x058A, '訪' },
			{ 0x058B, '豊' },
			{ 0x058C, '亡' },
			{ 0x058D, '妨' },
			{ 0x058E, '帽' },
			{ 0x058F, '忘' },
			{ 0x0590, '暴' },
			{ 0x0591, '望' },
			{ 0x0592, '棒' },
			{ 0x0593, '冒' },
			{ 0x0594, '紡' },
			{ 0x0595, '謀' },
			{ 0x0596, '防' },
			{ 0x0597, '吠' },
			{ 0x0598, '頬' },
			{ 0x0599, '北' },
			{ 0x059A, '僕' },
			{ 0x059B, '牧' },
			{ 0x059C, '殆' },
			{ 0x059D, '本' },
			{ 0x059E, '磨' },
			{ 0x059F, '魔' },
			{ 0x05A0, '麻' },
			{ 0x05A1, '埋' },
			{ 0x05A2, '枚' },
			{ 0x05A3, '毎' },
			{ 0x05A4, '幕' },
			{ 0x05A5, '抹' },
			{ 0x05A6, '末' },
			{ 0x05A7, '繭' },
			{ 0x05A8, '万' },
			{ 0x05A9, '慢' },
			{ 0x05AA, '満' },
			{ 0x05AB, '味' },
			{ 0x05AC, '未' },
			{ 0x05AD, '魅' },
			{ 0x05AE, '密' },
			{ 0x05AF, '蜜' },
			{ 0x05B0, '脈' },
			{ 0x05B1, '眠' },
			{ 0x05B2, '務' },
			{ 0x05B3, '無' },
			{ 0x05B4, '霧' },
			{ 0x05B5, '名' },
			{ 0x05B6, '命' },
			{ 0x05B7, '明' },
			{ 0x05B8, '盟' },
			{ 0x05B9, '迷' },
			{ 0x05BA, '銘' },
			{ 0x05BB, '鳴' },
			{ 0x05BC, '滅' },
			{ 0x05BD, '綿' },
			{ 0x05BE, '面' },
			{ 0x05BF, '摸' },
			{ 0x05C0, '茂' },
			{ 0x05C1, '毛' },
			{ 0x05C2, '猛' },
			{ 0x05C3, '盲' },
			{ 0x05C4, '木' },
			{ 0x05C5, '黙' },
			{ 0x05C6, '目' },
			{ 0x05C7, '戻' },
			{ 0x05C8, '貰' },
			{ 0x05C9, '問' },
			{ 0x05CA, '門' },
			{ 0x05CB, '夜' },
			{ 0x05CC, '野' },
			{ 0x05CD, '矢' },
			{ 0x05CE, '厄' },
			{ 0x05CF, '役' },
			{ 0x05D0, '約' },
			{ 0x05D1, '薬' },
			{ 0x05D2, '訳' },
			{ 0x05D3, '躍' },
			{ 0x05D4, '油' },
			{ 0x05D5, '癒' },
			{ 0x05D6, '優' },
			{ 0x05D7, '勇' },
			{ 0x05D8, '友' },
			{ 0x05D9, '有' },
			{ 0x05DA, '湧' },
			{ 0x05DB, '由' },
			{ 0x05DC, '誘' },
			{ 0x05DD, '雄' },
			{ 0x05DE, '融' },
			{ 0x05DF, '夕' },
			{ 0x05E0, '予' },
			{ 0x05E1, '与' },
			{ 0x05E2, '誉' },
			{ 0x05E3, '幼' },
			{ 0x05E4, '妖' },
			{ 0x05E5, '容' },
			{ 0x05E6, '揚' },
			{ 0x05E7, '揺' },
			{ 0x05E8, '様' },
			{ 0x05E9, '洋' },
			{ 0x05EA, '溶' },
			{ 0x05EB, '用' },
			{ 0x05EC, '羊' },
			{ 0x05ED, '耀' },
			{ 0x05EE, '葉' },
			{ 0x05EF, '要' },
			{ 0x05F0, '踊' },
			{ 0x05F1, '遥' },
			{ 0x05F2, '陽' },
			{ 0x05F3, '養' },
			{ 0x05F4, '欲' },
			{ 0x05F5, '浴' },
			{ 0x05F6, '翼' },
			{ 0x05F7, '羅' },
			{ 0x05F8, '螺' },
			{ 0x05F9, '来' },
			{ 0x05FA, '頼' },
			{ 0x05FB, '雷' },
			{ 0x05FC, '絡' },
			{ 0x05FD, '落' },
			{ 0x05FE, '乱' },
			{ 0x05FF, '嵐' },
			{ 0x0600, '覧' },
			{ 0x0601, '利' },
			{ 0x0602, '理' },
			{ 0x0603, '裏' },
			{ 0x0604, '里' },
			{ 0x0605, '離' },
			{ 0x0606, '陸' },
			{ 0x0607, '律' },
			{ 0x0608, '率' },
			{ 0x0609, '立' },
			{ 0x060A, '流' },
			{ 0x060B, '溜' },
			{ 0x060C, '粒' },
			{ 0x060D, '竜' },
			{ 0x060E, '慮' },
			{ 0x060F, '旅' },
			{ 0x0610, '了' },
			{ 0x0611, '両' },
			{ 0x0612, '凌' },
			{ 0x0613, '料' },
			{ 0x0614, '猟' },
			{ 0x0615, '療' },
			{ 0x0616, '良' },
			{ 0x0617, '量' },
			{ 0x0618, '領' },
			{ 0x0619, '力' },
			{ 0x061A, '緑' },
			{ 0x061B, '林' },
			{ 0x061C, '輪' },
			{ 0x061D, '隣' },
			{ 0x061E, '鱗' },
			{ 0x061F, '涙' },
			{ 0x0620, '類' },
			{ 0x0621, '令' },
			{ 0x0622, '冷' },
			{ 0x0623, '励' },
			{ 0x0624, '礼' },
			{ 0x0625, '鈴' },
			{ 0x0626, '零' },
			{ 0x0627, '霊' },
			{ 0x0628, '麗' },
			{ 0x0629, '齢' },
			{ 0x062A, '列' },
			{ 0x062B, '裂' },
			{ 0x062C, '恋' },
			{ 0x062D, '煉' },
			{ 0x062E, '練' },
			{ 0x062F, '蓮' },
			{ 0x0630, '錬' },
			{ 0x0631, '路' },
			{ 0x0632, '露' },
			{ 0x0633, '労' },
			{ 0x0634, '狼' },
			{ 0x0635, '六' },
			{ 0x0636, '録' },
			{ 0x0637, '論' },
			{ 0x0638, '話' },
			{ 0x0639, '惑' },
			{ 0x063A, '枠' },
			{ 0x063B, '鷲' },
			{ 0x063C, '湾' },
			{ 0x063D, '腕' },
			{ 0x063E, '佇' },
			{ 0x0640, '呟' },
			{ 0x0641, '咆' },
			{ 0x0642, '咬' },
			{ 0x0643, '哮' },
			{ 0x0644, '唸' },
			{ 0x0645, '徊' },
			{ 0x0646, '徘' },
			{ 0x0647, '揉' },
			{ 0x0663, '脇' },
			{ 0x0664, '奏' },
			{ 0x0665, '吐' },
			{ 0x0668, '和' },
			{ 0x066B, '納' },
			{ 0x066E, '硝' },
			{ 0x066F, '押' },
			{ 0x0671, '写' },
			{ 0x0672, '課' },
			{ 0x0678, '障' },
			{ 0x0679, '荷' },
			{ 0x067A, '遅' },
			{ 0x067B, '靴' },
			{ 0x067E, '賊' },
			{ 0x067F, '老' },
			{ 0x0680, '孫' },
			{ 0x0682, '例' },
			{ 0x0683, '歴' },
			{ 0x0684, '烈' },
			{ 0x0685, '旦' },
			{ 0x0686, '龍' },
			{ 0x0688, '悩' },
			{ 0x0689, '島' },
			{ 0x068B, '渦' },
			{ 0x068C, '旧' },
			{ 0x068E, '照' },
			{ 0x0690, '停' },
			{ 0x0691, '滞' },
			{ 0x0692, '台' },
			{ 0x0693, '帳' },
			{ 0x0694, '憧' },
			{ 0x0697, '託' },
			{ 0x069A, '版' },
			{ 0x069C, '永' },
			{ 0x069E, '兆' },
			{ 0x06A2, '只' },
			{ 0x06A5, '勘' },
			{ 0x06A6, '弁' },
			{ 0x06A7, '局' },
			{ 0x06AB, '娘' },
			{ 0x06AC, '夢' },
			{ 0x06AD, '父' },
			{ 0x06AE, '営' },
			{ 0x06B1, '卓' },
			{ 0x06B2, '辞' },
			{ 0x06B3, '茶' },
			{ 0x06B4, '志' },
			{ 0x06B6, '祭' },
			{ 0x06B7, '昼' },
			{ 0x06B8, '着' },
			{ 0x06BA, '寂' },
			{ 0x06BC, '独' },
			{ 0x06BD, '余' },
			{ 0x06BF, '庭' },
			{ 0x06C0, '園' },
			{ 0x06C2, '牲' },
			{ 0x06C3, '卵' },
			{ 0x06C4, '叶' },
			{ 0x06C5, '趣' },
			{ 0x06CA, 'Ⅰ' },
			{ 0x06CB, '児' },
			{ 0x06CD, 'Ⅳ' },
			{ 0x06CE, '弔' },
			{ 0x06D0, '婚' },
			{ 0x06D2, '吟' },
			{ 0x06D3, '遊' },
			{ 0x06D7, '鬼' },
			{ 0x06D8, '炭' },
			{ 0x06D9, '虎' },
			{ 0x06DC, '貝' },
			{ 0x06DE, '桃' },
			{ 0x06E5, 'Ⅴ' },
			{ 0x06E6, 'α' },
			{ 0x06E7, 'β' },
			{ 0x06E9, '築' },
			{ 0x06EA, '渋' },
			{ 0x06EB, '温' },
			{ 0x06EE, '留' },
			{ 0x06F2, '又' },
			{ 0x06F3, '懐' },
			{ 0x06F5, '彩' },
			{ 0x06F8, '灰' },
			{ 0x06FF, '乳' },
			{ 0x0709, '貼' },
			{ 0x070F, '科' },
			{ 0x071C, '呈' },
			{ 0x071E, '才' },
			{ 0x0720, '盛' },
			{ 0x0725, '充' },
			{ 0x0727, '既' },
			{ 0x072A, '坊' },
			{ 0x072B, '姉' },
			{ 0x072D, '房' },
			{ 0x072E, '企' },
			{ 0x0731, '奴' },
			{ 0x0734, '廊' },
			{ 0x0736, '央' },
		};

		#endregion

		public event PropertyChangedEventHandler PropertyChanged;

		public static Dictionary<ushort, char> CharacterMap { get; private set; }

		ushort[] originalData;
		public ushort[] RawData { get; private set; }
		public string ConvertedString { get; private set; }

		static GameDataManager.Versions gameVersion;
		public static GameDataManager.Versions GameVersion
		{
			get { return gameVersion; }
			set
			{
				gameVersion = value;

				if (gameVersion != GameDataManager.Versions.Japanese) CharacterMap = characterMapEnglish;
				else CharacterMap = characterMapJapanese;
			}
		}

		public bool HasChanged { get { return !originalData.CompareElements(RawData); } }

		public EtrianString(string textString, PropertyChangedEventHandler propertyChanged = null)
		{
			Update(textString);

			originalData = new ushort[RawData.Length];
			Buffer.BlockCopy(RawData, 0, originalData, 0, originalData.Length);

			PropertyChanged = propertyChanged;
		}

		public EtrianString(byte[] data, int offset, PropertyChangedEventHandler propertyChanged = null)
		{
			int stringLength = -1;
			for (int i = 2; i < 0x2000; i += 2)
			{
				if (BitConverter.ToUInt16(data, offset + i) == 0x0000 &&
					BitConverter.ToUInt16(data, offset + i - 2) != 0x8004)
				{
					stringLength = i / 2;
					break;
				}
			}

			originalData = new ushort[stringLength];
			Buffer.BlockCopy(data, offset, originalData, 0, originalData.Length * 2);
			Update(originalData);

			PropertyChanged = propertyChanged;
		}

		public EtrianString(ushort[] data)
		{
			originalData = data;
			Update(originalData);
		}

		public void Update(string textString)
		{
			ConvertedString = textString;

			List<ushort> newRaw = new List<ushort>();

			for (int src = 0; src < ConvertedString.Length; src++)
			{
				int tagLength = ConvertedString.IndexOf('>', src) - src - 2;
				if (src + 1 < ConvertedString.Length && tagLength >= 0 && (ConvertedString[src] == '<' && ConvertedString[src + 1] == '!'))
				{
					string tag = ConvertedString.Substring(src + 2, tagLength);

					if (tag.StartsWith("pg")) newRaw.Add(0x8002);
					else if (tag.StartsWith("color"))
					{
						newRaw.Add(0x8004);
						newRaw.Add(ushort.Parse(tag.Substring(tag.IndexOf('=') + 1), System.Globalization.NumberStyles.HexNumber));
					}
					else
						newRaw.Add(ushort.Parse(tag, System.Globalization.NumberStyles.HexNumber));

					src += (tag.Length + 2);
				}
				else if (ConvertedString[src] == '\r' && ConvertedString[src + 1] == '\n')
				{
					newRaw.Add(0x8001);
					src++;
				}
				else if (ConvertedString[src] == '\n')
				{
					newRaw.Add(0x8001);
				}
				else
					newRaw.Add(CharacterMap.GetByValue(ConvertedString[src]));
			}

			RawData = newRaw.ToArray();

			PropertyChanged?.Invoke(this, new PropertyChangedEventArgs("RawData"));
		}

		public void Update(ushort[] data)
		{
			RawData = data;

			if (RawData.Length != 0)
			{
				StringBuilder builder = new StringBuilder();
				for (int i = 0; i < RawData.Length; i++)
				{
					if ((RawData[i] & 0x8000) == 0x8000 && !CharacterMap.ContainsKey(RawData[i]))
					{
						switch (RawData[i] & 0xFF)
						{
							case 0x01: builder.Append(Environment.NewLine); break;
							case 0x02: builder.Append("<!pg>"); break;
							case 0x04: builder.AppendFormat("<!color={0:X4}>", RawData[i + 1]); i++; break;
							default: builder.AppendFormat("<!{0:X4}>", RawData[i]); break;
						}
					}
					else
					{
						if (CharacterMap.ContainsKey(RawData[i])) builder.Append(CharacterMap[RawData[i]]);
						else builder.AppendFormat("<!{0:X4}>", RawData[i]);
					}
				}
				ConvertedString = builder.ToString();
			}
			else
				ConvertedString = string.Empty;

			PropertyChanged?.Invoke(this, new PropertyChangedEventArgs("ConvertedString"));
		}

		public override string ToString()
		{
			return ConvertedString;
		}

		public class EtrianStringComparer : IEqualityComparer<EtrianString>
		{
			public bool Equals(EtrianString x, EtrianString y)
			{
				return x.RawData.CompareElements(y.RawData);
			}

			public int GetHashCode(EtrianString codeh)
			{
				return codeh.RawData.GetHashCode();
			}
		}
	}
}
